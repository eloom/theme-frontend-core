define(["jquery","underscore","mage/translate","Magento_Catalog/js/price-utils"],function(c,f,d,e){c.widget("mage.EloomBadgesProductInstallments",{options:{selectors:{finalPrice:'[data-price-type="finalPrice"]',minPrice:'[data-price-type="minPrice"]'},selectorProductTile:".product-info-price"},price:0,_init:function(){this.filterRowsFromCache();var a=this.element,b='<span class="installments">';this.isCcVisible()&&this.hasPrice()&&(b+=this.ccData());this.isVoucherVisible()&&this.hasPrice()&&(b+=this.voucherData());
a.append(b+"</span>")},filterRowsFromCache:function(){this.price=parseFloat(c("meta[itemprop='price']").attr("content"))},isVisible:function(){return this.isCcVisible()||this.isVoucherVisible()},isCcVisible:function(){return this.options.installments.cc.active},isVoucherVisible:function(){return this.options.installments.voucher.active},hasPrice:function(){return!0},ccData:function(){var a=this.options.installments.cc,b=e.formatPrice(this.price/a.installmensWithoutInterest);b=d(a.text).replace("%1",
a.installmensWithoutInterest).replace("%2",b);return'<span class="cc" data-installments="'+a.installmensWithoutInterest+'">'+b+"</span>"},voucherData:function(){var a=this.options.installments.voucher,b=e.formatPrice(this.price-this.price*a.discount/100);b=d(a.text).replace("%1",b).replace("%2",a.discount);return'<span class="voucher" data-discount="'+a.discount+'">'+b+"</span>"}});return c.mage.EloomBadgesProductInstallments});
